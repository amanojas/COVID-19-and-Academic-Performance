---
title: "Effects of COVID-19 on the Academic Performance of College Students"
author:
  - name: Aman Desai
    affiliation: Quinnipiac University
    email: aman.desai@quinnipiac.edu
date: today
date-format: "MMM D, YYYY"
execute:
  freeze: false
format:
  pdf:
    keep-tex: true
    pdf-engine: lualatex
    header-includes: |
      \usepackage{makecell}
      \usepackage{booktabs}
      \usepackage{endfloat}
      \usepackage{threeparttable}
      \usepackage{siunitx}
      \sisetup{detect-all=true}
      \setlength{\defaultaddspace}{0pt}
      \providecommand\makecell[2][]{\begin{tabular}{@{}c@{}}#2\end{tabular}}
    toc: false
    mainfont: "Palatino"
    sansfont: "Palatino"
    monofont: "Courier New"
    mathfont: "Palatino"
    title-font: "Palatino"
    headingfont: "Palatino"
    fontsize: 12pt
    geometry: margin=1in
    linestretch: 2
    link-citations: true
    urlcolor: blue   
bibliography: references.bib
biblio-style: natbib
abstract: |
  This study examines the impact of the COVID-19 pandemic on undergraduate performance in an introductory microeconomics course at a large public university. A key challenge in assessing academic outcomes during this period lies in disentangling true learning effects from institutional responses such as flexible grading policies and instructor adaptations designed to mitigate the disruptions of the sudden shift to remote instruction. To address these confounds, I analyze raw scores on a common departmental final examination administered across all sections from 2019 through Spring 2022. To further control for potential variation in exam difficulty, I construct a granular dataset matching student performance on identical or nearly identical questions appearing in both pre-pandemic and pandemic-era exams. The results indicate that adjusted mean scores on the common final declined by 1.15 points, while the probability of answering a matched question correctly fell by 1.9 percentage points. Heterogeneity analyses reveal that these aggregate declines mask significant distributional effects: students with below-median GPAs experienced an additional 3.3 percentage point reduction in the probability of answering matched questions correctly relative to their high-GPA peers. Conversely, the abrupt transition to remote instruction was associated with a 6 percentage point increase in the probability of answering matched questions correctly for online students relative to the pre-pandemic hybrid baseline.

  \vspace{12pt}
  \noindent \textbf{Keywords:} COVID-19, academic performance, undergraduate education, online learning
---

```{r setup, include=FALSE}
options(tinytex.verbose = TRUE)
knitr::opts_chunk$set(echo = TRUE)
```

```{r packages, include = FALSE, message=FALSE, warning=FALSE}

if (!require("pacman")) {
  install.packages("pacman", repos = "http://cran.us.r-project.org")
}

# Load and install all packages at once
pacman::p_load(
  tidymodels,
  tidyverse,
  rio,
  naniar,
  labelled,
  sjlabelled,
  haven,
  fixest,
  vtable,
  ggfixest,
  modelsummary,
  gtsummary,
  simputation,
  kableExtra,
  readxl,
  panelsummary,
  cowplot,
  parameters,
  patchwork
)

# Set default theme
theme_set(theme_bw(base_family = "serif"))

```

\pagebreak

# Introduction

The COVID-19 pandemic of March 2020 was disruptive across many domains, with higher education being one of them. Policies were implemented worldwide in response to this global crisis, resulting in changes in the educational setting. Educational instructions were abruptly moved online without prior preparation. This had a negative effect on primary and secondary education, leading to significant learning loss for students [@grewenig_covid-19_2021; @fuchs-schundeln_covid-induced_2022].

Although the socioeconomic consequences of COVID-19 have been extensively studied from various perspectives, research on the impact of the pandemic on college students remains limited and yields conflicting results. Most studies examining the impact of the pandemic on students’ academic performance measure outcomes such as GPA and course completion rates. Although useful, these measures are confounded by the numerous responses of students, faculty, and administrators during the pandemic. For example, cheating became a challenging issue in the rapid move to online teaching [@ives_did_2024; @jenkins_when_2023; @walsh_why_2021]. The faculty adopted more lenient grading practices and reduced exam difficulties. Administrators altered grading policies regarding course withdrawals and pass/fail options [@rodriguez-planas_covid-19_2022]. These responses made comparisons with pre-pandemic test scores, or the term GPA less reliable for quantifying learning loss during the pandemic in college students.

I address these assessment and grading issues using unique exam-level data from a large public university in New York City. First, I analyze students' performance on final exams before and during the pandemic in an *introductory microeconomics* course. Approximately 800 students across ten sections of the course attempted a common final exam each semester. This reduces the variation in the difficulty of exams across sections. However, the difficulty of an exam may have changed in response to the pandemic. Thus, I compare students’ performance on specific exam questions that were qualitatively almost identical before and during the pandemic by matching questions from answer sheets from the common final exams before and during the pandemic. By focusing on students’ performance on nearly identical questions before and during the pandemic, I remove the variation in outcomes due to possible changes in the difficulty of these exams during the pandemic. By combining the matched question-level data with student characteristics, I estimate how the pandemic affected students’ average probability of correctly answering similar questions from pre-pandemic common exams during the crisis.

I begin with a before and after analysis, adjusting for student characteristics, time periods, and instructor fixed effects. I argue that more capable students are more likely to adjust to online instruction more effectively. Thus, I use a difference-in-difference design and compared students with pre-course GPA above (high GPA) and below (low GPA) the median before and during the pandemic. I observe that during the pandemic, low-GPA students were less likely to answer qualitatively similar questions from the pre-pandemic exams relative to students with higher GPAs. My analysis of dynamic effects reveals that by Spring 2022, the performance gap persisted between low and high GPA students, both in overall exam scores and in their likelihood of correctly answering nearly identical questions compared with pre-pandemic levels.

I also analyze the students' performance on matched questions by difficulty level. I find no statistically significant impact of the pandemic on low GPA students' average probability of answering nearly identical "easy" questions correctly, but I find significant effect on their performance with nearly identical *hard* questions. I also provide a similar analysis comparing outcomes between students enrolled in online and hybrid classes. My findings align with existing research on learning loss during this period. By analyzing the performance of qualitatively similar exam questions before and during the pandemic, I contribute to the literature by offering more reliable estimates of learning loss compared to traditional metrics, such as GPA and course withdrawals.

The next section reviews the current literature on the effects of the pandemic on college students’ academic outcomes. Section 3 discusses the data, section 4 explains the estimation strategy, section 5 reports the results, and section 6 concludes the paper.

# Literature Review

Most early studies analyzing the impact of COVID-19 on undergraduate student outcomes were based on surveys about their experiences during the pandemic. @jaeger_global_2021 was the first to document the negative impact of the COVID-19 pandemic using surveys administered to university students in 28 universities in the United States, Spain, Australia, Sweden, Austria, Italy, and Mexico between April and October 2020. Their preliminary results reported disparate impacts on different socio-economic and demographic groups. @aucejo_impact_2020, one of the first papers studying the effect of COVID-19 on college student outcomes, surveyed 1,500 students at a large public university in the United States. They found significant negative effects of the pandemic on student outcomes. Due to the pandemic, 13% of students delayed graduation, 40% lost a job, internship, or offer, and 29% expected an earnings loss by age 35. They also found large disparate impacts of the pandemic across socio-economic statuses. Lower-income students were 55% more likely than their higher-income peers to have delayed graduation due to COVID-19.

Along the same lines, @rodriguez-planas_hitting_2020 collected data on students’ experiences during the pandemic using an online survey at an urban public college in New York City in the summer of 2020. The author found significant disruptions in students’ lives due to the pandemic. Because of COVID, between 14% and 34% of students considered dropping a class during Spring 2020, 30% modified their graduation plans, and the freshman Fall retention rate dropped by 26%. The pandemic also deprived 39% of students of their jobs, while 35% of students saw their earnings reduced. Pell grant recipients (students from lower-income families) were 20% more likely to lose a job due to the pandemic and 17% more likely to experience earning losses than non-Pell recipients. Other vulnerable groups, such as first-generation and transfer students, were relatively more affected. Since they seem to rely less on financial aid and more on income from wage and salary jobs, both their educational and employment outcomes were more negatively impacted by the pandemic compared to students whose parents also attended college or those who began college as freshmen.

The pandemic's impact on student learning was largely driven by the sudden shift to remote instruction. Literature on remote learning shows various approaches including fully remote, software-assisted, and hybrid learning[^1]. While online learning offers reduced costs in delivering education and wider accessibility, research indicates mixed results. Studies using randomized trials found that students in remote formats generally performed worse than those in traditional settings [@joyce_does_2015, @alpert_randomized_2016]. @bettinger_virtual_2017 and @cacault_distance_2021 found that online learning particularly disadvantaged lower-performing students. Multiple analyses have demonstrated that online courses lead to lower completion rates, grades, and persistence [@jaggars_how_2016; @xu_promises_2019].

[^1]: see @escueta_education_2017 for a comprehensive review.

Several studies attempt to use the pandemic as an exogenous shock to measure the impact of remote learning on college students’ outcomes. For instance, in their study, @altindag_is_2021 analyzed administrative data from a public university and employed a fixed effects model. They examine the effect of the change in learning modality due to the pandemic on students’ learning outcomes. They found that the online instruction mode led to lower grades and an increased likelihood of course withdrawal. Students who have had greater exposure to in-person instruction have a lower likelihood of course repetition, a higher probability of graduating on time, and achieving a higher graduation GPA. Additionally, they observed that the difference in student performance between in-person and online courses tended to diminish over time in the post-pandemic era.

In the fall of 2020, @kofoed_zooming_2021 randomized 551 West Point students in a required introductory economics course across twelve instructors into either an online or in-person class. They found that final grades for online students dropped by 0.215 standard deviations. This result was apparent in both assignments and exams and was largest for academically at-risk students. Additionally, using a post-course survey, they found that online students struggled to concentrate in class and felt less connected to their instructors and peers. They conclude that the shift to online education had negative effects on learning. Using data on Virginia community college students, @bird_negative_2022 applied a difference-in-differences research design leveraging instructor fixed effects and student fixed effects to estimate the impact of the transition to online learning due to the pandemic. Their results show a modest negative impact of 3% - 6% on course completion. Additionally, their findings suggest that faculty experience in delivering online lectures does not mitigate the negative effects. In their exploratory analyses, they find minimal long-term effects of the switch to online learning.

A comprehensive study by @bonacini_unraveling_2023, disentangle the channels through which the pandemic affected students. They use admin data from 2018-2021 of 36,000 university students in Italy who took about 400,000 exams during this period. They examine the overall effect of the pandemic on students’ exam scores in different courses. Additionally, they explore the effect of the transition to remote learning by using COVID as an exogenous shock with a difference-in-differences design. Their findings show that during the pandemic, students performed better, with an increase in exam scores. However, the abrupt move to remote learning decreased students’ exam scores.

Studies using survey data on students discussed above have found a negative impact of COVID-related disruptions on academic performance. However, studies that use measured outcomes to evaluate academic performance report mixed results, especially immediately after the pandemic began [@bird_negative_2022; @bonacini_unraveling_2023]. One reason for this might be that many institutions temporarily implemented policies to reduce the burden on students during the pandemic, particularly due to the sudden transition from traditional to fully remote learning. Instructors were likely more lenient in setting exam questions and grading, and more willing to accommodate students than before the pandemic. The sudden move to remote learning could have also created more opportunities for misbehavior by students during exams. For instance, @rodriguez-planas_covid-19_2022, using data from an urban public college in NYC found that lower-income students were 35 percent more likely to utilize the flexible pass/fail grading policy. While no GPA advantage is observed among top-performing lower-income students, in the absence of the flexible grading policy these students would have seen their GPA decrease by 5% relative to their pre-pandemic mean.

The literature has provided valuable insights into the impact of the COVID-19 pandemic on undergraduates. However, several issues remain to be addressed. Many studies rely on self-reported survey data, which may not accurately capture the true extent of learning loss [@aucejo_impact_2020; @rodriguez-planas_hitting_2020]. I identify major limitations in these recent studies. First, using course completion rates, course GPAs, or end-of-semester GPAs to measure academic outcomes immediately after COVID-19 hit in March may not accurately reflect students' actual learning or learning loss. Second, the pandemic-driven sudden transition to new instruction modalities likely changed assessment methods as instructors and students took time to adjust to the situation. The difficulty of exams immediately after the adjustment may not have been the same as pre-COVID exams, contributing to inaccurate measurement of learning loss. Additionally, the implementation of flexible grading policies may have biased the effect of the pandemic on course GPA or course completion rates. I contribute to the literature in two ways. To address these limitations, I analyze students' performance on common exams before and during the pandemic. To eliminate variation due to changes in the difficulty of exams during the pandemic, I examine students' performance on nearly identical questions from exams before and during the pandemic to measure learning loss.

# Data

The data for this study are drawn from two primary sources covering the academic years 2019 through 2022. The first source records student performance on common departmental final examinations for the *Introductory Microeconomics* course at a large public university in New York City. This course is offered every semester, taught by multiple instructors, and at least 700 students enroll annually.

The department offers the course through three modalities. *Hybrid* sections meet twice weekly, comprising one in-person session and one fully remote session. *Online* sections are conducted entirely remotely using software. In 2019 (Spring and Fall), the course was primarily offered in the hybrid mode, with one large online section. Following the onset of the COVID-19 pandemic—spanning Fall 2020 through Spring 2022—offerings were exclusively online or hybrid, with the exception of a single in-person section in 2022. I do not include those students in the analyses to facilitate the comparison between the efficacy of hybrid and online learning modes.

Although the course involves multiple instructors and teaching modalities, assessment is standardized; all enrolled students are required to complete a common, multiple-choice final examination with a maximum score of 40 points. Leveraging performance on common exams eliminates potential bias arising from heterogeneity in instructor-specific testing difficulty. The dataset includes answer sheets for all students who attempted these exams, providing the final score, item-level performance, instructor identifiers, and the course learning mode. Data for the Spring 2020 semester were unavailable.

The first measure is the aggregate score on the common final examination, converted from a raw maximum of 40 points to a standard 0–100 scale. This standardized measure provides a more consistent signal of learning than course GPA or withdrawal rates, which were potentially confounded by flexible grading policies adopted during the pandemic.

To exploit the granularity of the data, I also construct a second measure based on item-level performance. Because the final exams are departmental, I am able to match identical or nearly identical questions appearing in exams administered both pre- and post-pandemic onset. While the department utilizes two versions of the exam to deter cheating (differing only in question order), the content remains constant. I manually identified and matched 35 unique pairs of questions across the pre-pandemic and pandemic periods. This allows for the construction of a binary outcome variable, *correct*, which takes a value of 1 if a student answered the matched question correctly and 0 otherwise.

The second data source consists of institutional administrative records for all students enrolled in *Introductory Microeconomics* during the relevant semesters. This dataset includes a rich set of covariates, including gender, race, age, transfer status, enrollment intensity (part-time vs. full-time), native language, and class standing (freshman through senior).

By merging these administrative records with the examination data, I construct a comprehensive dataset linking student characteristics to standardized performance metrics. This merger also incorporates exam-level characteristics, such as learning modality, course instructor, exam version, and the semester of administration. To my knowledge, this is the first dataset to facilitate a granular examination of COVID-19's impact on student performance using standardized, item-level outcomes.

The final analytical sample comprises 4,655 unique students enrolled in the course. For the granular analysis using matched exam questions, the dataset expands to 47,589 student-question observations. Each observation represents a student-question pair indicating whether the specific item was answered correctly. For the majority of the sample, I utilize the cumulative GPA recorded prior to the start of the semester. If the pre-semester GPA is unavailable, I substitute it with the GPA calculated at the end of the concurrent semester. In cases where both values are missing, I impute the missing value using the mean GPA of the student cohort for that specific semester.

# Estimation Strategy

To estimate the impact of the pandemic on student learning, I employ a series of Ordinary Least Squares  regressions. I first examine aggregate performance on the common final examination, followed by an analysis of item-level performance using matched questions across pre-pandemic and pandemic semesters. My primary empirical strategy estimates the effect of the pandemic on student outcomes using the following specification:

\begin{equation}
y_{i,c,t} = \delta P_{t} + \beta X_{i,c,t} + \gamma_{c} + \alpha_{s} + \epsilon_{i,c,t}
\end{equation}

$y_{i,c,t}$ represents the academic outcome for student $i$ in class taught by instructor $c$ during semester $t$. I analyze two distinct outcomes for $y$. In the first set of regressions, $y$ is the students' aggregate score on the common final examination, scaled to a 0–100 range. In the second set of regressions,  I employ a linear probability model where $y$ is a binary indicator equal to 1 if the student answered a specific matched question correctly, and 0 otherwise. For this item-level analysis, the subscript $q$ is added to denote the specific question pair, such that the outcome is denoted as $y_{i,c,q,t}$.

The variable of interest is $P_{t}$, a binary indicator for the pandemic period, equal to 1 for any semester after Fall 2019 (i.e., Spring 2020 onward) and 0 otherwise. The coefficient $\delta$ captures the average effect of the pandemic on student performance.

$X_{i,c,t}$ includes student-level controls to account for demographic and academic heterogeneity. These include dummy variables for race (Black, Asian, non-White Hispanic, and Other, with White as the reference group), gender (equal to 1 if female), and class standing (equal to 1 if the student is a freshman or sophomore). To control for baseline ability, I include the student's cumulative GPA prior to the start of the course. The model also includes instructor fixed effects ($\gamma_{c}$) and session fixed effects ($\alpha_{s}$) to control for time-invariant instructor characteristics and semester-specific shocks unrelated to the pandemic. Standard errors are robust to heteroskedasticity.

## Identification of Differential Impact of COVID-19 on Low vs High GPA Students

I further examine whether the pandemic differentially affected students based on their prior academic performance. I classify students into "Low GPA" and "High GPA" groups based on the sample median cumulative GPA of 3.32. Students below this threshold are defined as low-GPA, while those at or above are defined as high-GPA. I estimate the following interaction model:

\begin{equation}
y_{i,c,t} = \delta P_{t} + \phi L_{i} + \mu P_{t} \times L_{i} + \beta X_{i,c,t} + \gamma_{c} + \alpha_{s} + \epsilon_{i,c,t}
\end{equation}

Here, $L_{i}$ is a binary indicator equal to 1 if student $i$ is in the low-GPA group. The coefficient of interest is $\mu$, which captures the differential impact of the pandemic on low-performing students relative to their high-performing peers. A negative $\mu$ would indicate that the pandemic exacerbated inequality in learning outcomes. This specification mirrors the baseline model but excludes continuous cumulative GPA from the vector $X_{i,c,t}$, as it is captured by the group classification.

## Identification of the Effect of Sudden Transition to Remote Learning

Finally, I isolate the effect of the sudden, forced transition to remote learning. While the aggregate pandemic effect ($\delta$ in Equation 1) captures broadly defined disruptions, a key mechanism was the shift in instructional modality. Prior to the pandemic, the department offered the course in two distinct modes: Hybrid (one in-person and one online session weekly) and Online (fully remote). The onset of the pandemic in March 2020 forced all hybrid sections to transition abruptly to a fully remote format. I exploit this variation using a difference-in-differences framework to estimate the impact of transitioning from hybrid to remote learning, relative to students who were already enrolled in fully online sections:

\begin{equation}
y_{i,c,t} = \delta P_{t} + \phi O_{i} + \mu P_{t} \times O_{i} + \beta X_{i,c,t} + \gamma_{c} + \alpha_{s} + \epsilon_{i,c,t}
\end{equation}

In this specification, $O_{i}$ is an indicator equal to 1 if the student originally enrolled in an online section and 0 if they enrolled in a hybrid section. The interaction term $\mu$ tests whether students who selected into online learning—and thus experienced less disruption in modality—performed differently during the pandemic compared to those forced to switch from hybrid to remote instruction. Control variables remain consistent with the baseline specification, excluding the instruction mode indicator which is subsumed by the difference-in-differences terms.

# Results

```{r data-load, echo = FALSE, warning=FALSE, message=FALSE, include = FALSE}
### Loading the question level data ------------------------------------------

question_url <- "https://raw.githubusercontent.com/amanojas/COVID-19-and-Academic-Performance/main/data/question_level.rds"
question_level <- read_rds(question_url) |>
  mutate(on = online) ## This is to ensure there are no glitches in the code where two panels of results are merged. A bad fix, but works!

### Loading the exam level data ------------------------------------------
## These scores are out of a possible 40 points.

exam_url <- "https://raw.githubusercontent.com/amanojas/COVID-19-and-Academic-Performance/main/data/exam_level.rds"
exam_level <- read_rds(exam_url) |>
  mutate(on = online) ## This is to ensure there are no glitches in the code where two panels of results are merged. A bad fix, but works!


### Loading the course withdrawal data ------------------------------------------
## It has share of students who took withdrawal, CR, NC options.
full_grades <- read_dta(
  "https://raw.githubusercontent.com/amanojas/COVID-19-and-Academic-Performance/main/data/grades-by-sem.dta"
) # s2020 available
full_g <- full_grades |>
  mutate(
    year = if_else(
      semester == "S19" | semester == "F19",
      2019,
      if_else(
        semester == "S20" | semester == "F20",
        2020,
        if_else(semester == "S21" | semester == "F21", 2021, 2022)
      )
    )
  ) |>
  mutate(
    session = factor(if_else(
      semester %in% c("S19", "S20", "S21", "S22"),
      "S",
      "F"
    ))
  ) |>
  mutate(session = fct_relevel(session, c("S", "F")))

```

## Average Course GPA Across Semesters 

```{r gpa-across-semesters-eco-1001, echo = FALSE, warning=FALSE, message=FALSE, fig.cap= "Average Course GPA across semesters", fig.pos="H",  fig.align = "center"}
# Define semester labels
gpa_labels <- c(
  "Spring 2019",
  "Fall 2019",
  "Spring 2020",
  "Fall 2020",
  "Spring 2021",
  "Fall 2021",
  "Spring 2022"
)

# Summarize GPA statistics by semester
gpa_summary <- full_g |>
  dplyr::select(year, session, coursegpa) |>
  dplyr::group_by(year, session) |>
  dplyr::summarise(
    avg_gpa = mean(coursegpa, na.rm = TRUE),
    sd_gpa = sd(coursegpa, na.rm = TRUE),
    n = dplyr::n(),
    .groups = 'drop'
  ) |>
  dplyr::mutate(
    margin_error = 1.96 * (sd_gpa / sqrt(n)),
    semester = factor(seq_along(year), labels = gpa_labels)
  )

# Plot the results
ggplot(gpa_summary, aes(x = semester, y = avg_gpa, label = round(avg_gpa, 2))) +
  geom_bar(stat = "identity", width = 0.3, fill = "#009E73", alpha = 0.8) +
  geom_errorbar(
    aes(ymin = avg_gpa - margin_error, ymax = avg_gpa + margin_error),
    width = 0.1,
    color = "darkblue"
  ) +
  geom_text(
    size = 3,
    vjust = -2.5,
    color = "black"
  ) +
  ylim(0, 4) +
  labs(
    x = NULL,
    y = "Course GPA",
    title = ""
  ) +
  scale_x_discrete(
    labels = gpa_labels,
    guide = ggplot2::guide_axis(n.dodge = 2)
  ) +
  theme_minimal(base_size = 10)
```

A central premise of this study is that conventional metrics commonly cited in the literature---such as course completion rates, withdrawal rates, and GPAs---may fail to accurately capture academic performance during the pandemic period. The abrupt transition in instructional modality likely induced behavioral responses from instructors, including increased leniency in grading standards to accommodate the disruptive environment. Furthermore, the shift to remote assessment may have introduced opportunities for academic misconduct, thereby inflating scores. Consequently, relying solely on GPA may mask the true negative impact of the pandemic on human capital accumulation, as these institutional policy shifts and grading accommodations can overshadow actual declines in content mastery.

Figure 1 presents the temporal evolution of unadjusted average GPAs in the introductory microeconomics course. The data reveal a sharp discontinuity in Spring 2020, coinciding with the transition to online instruction. This increase in average grades contradicts contemporaneous survey evidence suggesting that students faced substantial personal and academic hardships during this period [@aucejo_impact_2020; @rodriguez-planas_hitting_2020]. If GPAs were a consistent proxy for learning, one would expect a decline in grades reflecting these documented struggles. Instead, while GPAs moderated slightly in Fall 2020 and Spring 2021, they remained persistently elevated above pre-pandemic levels until after Fall 2021, suggesting a structural break in grading norms rather than an improvement in student performance.

## Withdrawal Rates and Institutional Grading Policies

```{r withdrawal-rate, echo=FALSE, warning=FALSE, message=FALSE, fig.cap= "Withdrawal rates in ECO 1001 across semesters", fig.pos="H", fig.align = "center"}
## Figure 2: Withdrawal rates in ECO 1001 across semesters ------------------

## 376 students withdrew + 39 students withdrew
## 296 students CR
## 55 students NC
## 160 missing coursegpa

# Semester labels
withdrawal_labels <- c(
  "Spring 2019",
  "Fall 2019",
  "Spring 2020",
  "Fall 2020",
  "Spring 2021",
  "Fall 2021",
  "Spring 2022"
)

# Summarize withdrawal-related measures
withdrawal_summary <- full_g |>
  dplyr::select(year, session, CR, NC, wd) |>
  dplyr::group_by(year, session) |>
  dplyr::summarise(
    avg_NC = mean(NC, na.rm = TRUE),
    avg_CR = mean(CR, na.rm = TRUE),
    avg_WD = mean(wd, na.rm = TRUE),
    .groups = 'drop'
  ) |>
  dplyr::mutate(
    semester = factor(seq_along(year), labels = withdrawal_labels)
  ) |>
  tidyr::pivot_longer(
    cols = c("avg_NC", "avg_CR", "avg_WD"),
    names_to = "measure",
    values_to = "avg"
  ) |>
  dplyr::mutate(avg = 100 * avg)

# Set up color scheme for measures
withdrawal_colors <- c(
  "avg_NC" = "#0072B2", # blue
  "avg_CR" = "#D55E00", # vermillion / orange
  "avg_WD" = "#009E73" # green (distinct from blue & orange)
)


# Plot the withdrawal rates
ggplot(
  withdrawal_summary,
  aes(x = semester, y = avg, fill = measure, label = paste0(round(avg, 2), "%"))
) +
  geom_col(width = 0.5, position = position_stack(), alpha = 0.7) +
  geom_text(
    size = 2,
    vjust = -2.5,
    position = position_stack(0.),
    color = "black"
  ) +
  ylim(0, 50) +
  scale_fill_manual(
    values = withdrawal_colors,
    labels = c("No Credit", "Credit", "Withdrawal")
  ) +
  labs(
    x = NULL,
    y = "Withdrawal, Credit, No Credit Rate (%)",
    title = ""
  ) +
  scale_x_discrete(
    labels = withdrawal_labels,
    guide = ggplot2::guide_axis(n.dodge = 2)
  ) +
  theme_minimal(base_size = 10) +
  theme(legend.title = element_blank())
```

A second factor complicating the use of traditional performance metrics is the implementation of flexible grading policies. Mirroring trends across the US higher education system, the institution under study adopted temporary measures to mitigate the academic burden of the pandemic. Through the final day of the semester, students were allowed to elect one of three options: a "Credit" (CR) designation, which conferred course credit without impacting GPA; a "No Credit" (NC) designation, which allowed for course completion without credit or a recorded withdrawal; or the standard course withdrawal.

Figure 2 illustrates the unadjusted rates of withdrawal and non-standard grade designations across the sample period. In Spring 2020, the onset of the pandemic coincided with an atypically low standard withdrawal rate of 3.92%. This decline was offset by substantial utilization of the flexible grading options: 29.75% of enrolled students elected the CR designation, while 5.53% opted for NC. Following the discontinuation of this policy after Spring 2020, standard withdrawal rates rebounded, rising to 6.65% in Fall 2020 and approaching 8% by Spring 2022. Because these policy shifts fundamentally altered the incentives driving course retention and GPA calculation, reliance on completion rates or grade averages fails to provide a consistent counterfactual for assessing the pandemic's true impact on learning.

## Descriptive Statistics

```{r descriptive-stats, echo=FALSE, warning=FALSE, message=FALSE}

### Table 1: Descriptive Statistics --------------------------------------------

sum_stats_url <- "https://raw.githubusercontent.com/amanojas/COVID-19-and-Academic-Performance/main/data/summary_stats_data.rds"
f12 <- read_rds(sum_stats_url) |>
  select(
    -id,
    -`SAT verbal`,
    -`SAT math`,
    -correct,
    -`Native Language English?`
  ) |> ## Not using these variables in the analyses due to high number of missing values. So, it is not useful to show them in the table.
  relocate(avgcor, .after = score) |>
  rename(Correct = avgcor, `Final exam score` = score)


# Capture table as data.frame, inspect column names, drop Std.Dev, then render
tab_df <- datasummary_balance(
  formula = ~newperiod,
  data = f12,
  fmt = 3,
  output = "data.frame",
  stars = TRUE
)

# names(tab_df) # check exact column name for Std.Dev (e.g. "Std. Dev." or "Std.Dev")

# Drop Std.Dev using text pattern
tab_df <- tab_df[,
  !grepl("Std\\.?\\s?Dev|Std\\.Dev|Std\\. Dev\\.", names(tab_df))
]

# Render with kableExtra
tab_df |>
  knitr::kable(
    format = "latex",
    booktabs = TRUE,
    col.names = c(" ", "Mean", "Mean", "Diff. in Means", "Std.error"),
    caption = "Descriptive Statistics"
  ) |>
  kableExtra::kable_styling(
    font_size = 9,
    latex_options = c("scale_down", "HOLD_position")
  ) |>
  kableExtra::add_header_above(
    c(
      " " = 1,
      "Pre-COVID (N = 752)" = 1,
      "Post-COVID (N = 3846)" = 1,
      " " = 2
    ),
    bold = TRUE,
    italic = TRUE,
    escape = TRUE
  ) |>
  footnote(
    "p < 0.1, ** p < 0.05, *** p < 0.01. Final exam scores are based on a 100-point scale.",
    escape = TRUE,
    threeparttable = TRUE,
    footnote_as_chunk = TRUE
  )


```

Table 1 summarizes the sample characteristics across the pre-pandemic (Spring and Fall 2019) and pandemic (Fall 2020 through Spring 2022) periods. The final analytical sample consists of 4,598 students, with 752 observed in the pre-pandemic period and 3,846 in the pandemic period.

In terms of aggregate academic outcomes, the unadjusted difference in final exam scores is negligible (0.562 points) and statistically insignificant. However, granular performance on matched item-level questions reveals a statistically significant decline; the unadjusted probability of answering a matched question correctly is 3.8 percentage points lower in the post-pandemic period compared to the pre-pandemic baseline.

The demographic composition of the student body shifted significantly between the two periods. The share of Hispanic students increased from 13.3% to 18.9%, while the share of Asian students declined by 5.5 percentage points. Black enrollment remained stable, with no statistically significant change. Enrollment modality also saw a structural shift: prior to the pandemic, approximately 35% of students selected fully online sections. In the post-pandemic period, this figure rose to nearly 59%, driven by the exclusive use of remote instruction in Fall 2020 and Spring 2021, and a continued preference for online options when hybrid sections resumed in Spring 2022.

The post-pandemic cohort is also distinct in terms of age and academic maturity. Students in the pandemic period are, on average, roughly one year younger ($p < 0.01$) and are more likely to be freshmen or sophomores (an increase of approximately 9.4 percentage points). Proportion of part-time students also decreased by about 3 percentage points.

Finally, Table 1 reports the baseline cumulative GPA, a critical control for student ability. As noted in the data section, missing baseline GPA values are imputed using the end-of-semester GPA or, if both are unavailable, the semester-specific mean GPA.

## Baseline Specification

```{r base-specification, echo=FALSE, warning=FALSE, message=FALSE}
## This code produces table 3.2 in the main paper ------------------------------
## Title : Baseline estimates of effect of COVID-19 on students' academic performance

################################################################################################################
################################################################################################################
########### SIMPLE FIRST DIFFERENCE USING TOTAL EXAM SCORES AND MATCHED QUESTIONS IN ECO 1001 ##################
################################################################################################################
################################################################################################################

### Regressions using exam scores as outcome

exam_base <- feols(
  score ~ post +
    female +
    r_black +
    r_asian +
    r_hispa +
    r_other +
    online +
    cumgpa +
    parttime +
    gpamiss |
    instructor + session,
  data = exam_level,
  vcov = "hc1"
)

exam_base_long <- feols(
  score ~ time +
    female +
    r_black +
    r_asian +
    r_hispa +
    r_other +
    online +
    cumgpa +
    parttime +
    gpamiss |
    instructor + session,
  data = exam_level,
  vcov = "hc1"
)


##### -------------------------------------------------------------------------------------------------

## ### Regressions using performance on matched questions as outcome

ques_base <- feols(
  correct ~ post +
    female +
    r_black +
    r_asian +
    r_hispa +
    r_other +
    online +
    cumgpa +
    parttime +
    gpamiss |
    instructor + session,
  data = question_level,
  vcov = "hc1"
)

ques_base_long <- feols(
  correct ~ time +
    female +
    r_black +
    r_asian +
    r_hispa +
    r_other +
    online +
    cumgpa +
    parttime +
    gpamiss |
    instructor + session,
  data = question_level,
  vcov = "hc1"
)


#### Creating a result table -----------------------------------------------------------

rowlabs_base <- c(
  "post" = "postcovid",
  "time2" = "Fall 2020",
  "time3" = "Spring 2021",
  "time4" = "Fall 2021",
  "time5" = "Spring 2022"
)

# Re-create a kableExtra object (not a raw string)
results_base <- panelsummary(
  list(exam_base, exam_base_long, ques_base, ques_base_long),
  coef_map = rowlabs_base,
  gof_map = c("nobs", "r.squared"),
  caption = "Baseline estimates of effects of COVID-19 on student performance",
  stars = "econ"
)

### Formatting the table ----------------------

results_base |>
  kable_styling(
    font_size = 9,
    latex_options = c("scale_down", "HOLD_position")
  ) |>
  add_header_above(
    c(
      " " = 1,
      "Final Exam Score\n(mean = 57.1, sd = 15.6)" = 2,
      "Did Student Get The Answer Correct (Y/N)?\n(mean = 0.6, sd = 0.49)" = 2
    ),
    bold = T,
    italic = T,
    escape = TRUE
  ) |>
  footnote(
    "* p < 0.1, ** p < 0.05, *** p < 0.01. Final exam scores are based on a 100-point scale. Heteroskedasticity-robust standard errors are used. All regressions include the following control variables: cumulative GPA, gender, race, age, whether a student is at least a sophomore, part-time status of the student. All regressions also include a dummy variable, gpamiss, which is 1 if cumulative GPA is imputed using the mean and 0 otherwise. All regressions include course instructor fixed-effects and session fixed-effects.",
    escape = TRUE,
    threeparttable = TRUE,
    footnote_as_chunk = TRUE
  )

```

Table 2 presents the results from the baseline OLS specifications estimating the impact of the pandemic on student performance. Columns (1) and (2) report results where the dependent variable is the aggregate final exam score (0–100 scale), while Columns (3) and (4) report estimates from linear probability models where the outcome is binary (1 if a matched question was answered correctly, 0 otherwise). All specifications control for student demographics (race, gender, age), academic background (cumulative GPA, class standing), enrollment status (part-time), and include instructor and session fixed effects. To account for potential bias from missing data, I also include a dummy variable, *gpamiss*, indicating observations where cumulative GPA was imputed; inclusion of this control does not qualitatively alter the results.

Column (1) estimates the average effect of the pandemic across all post-2019 semesters. The coefficient on the pandemic indicator is negative ($-1.151$), suggesting a decline in average scores by approximately 1.15 points, though this estimate is not statistically significant.

Column (2) disaggregates this effect by semester, using the pooled 2019 academic year as the reference category. The results reveal substantial temporal heterogeneity. In Fall 2020, scores were statistically indistinguishable from pre-pandemic levels ($1.308$, $p > 0.10$). However, performance dropped sharply in Spring 2021, with scores declining by 5.76 points ($p < 0.01$), equivalent to a 0.37 standard deviation decrease. While performance rebounded temporarily in Fall 2021 ($+5.64$ points), it fell again in Spring 2022 by 6.95 points ($p < 0.01$).

Columns (3) and (4) leverage the granular, item-level data to examine performance on identical or nearly identical questions. Column (3) shows that, on average across the entire post-pandemic period, the probability of answering a matched question correctly decreased by 1.9 percentage points ($p < 0.01$) relative to the pre-pandemic baseline.

Column (4) illustrates that this learning loss was immediate and persistent. In Fall 2020—despite aggregate exam scores remaining stable—the probability of answering a matched question correctly plummeted by 10.2 percentage points ($p < 0.01$) relative to 2019. This negative effect persisted throughout the observation period, with the probability of a correct response remaining 8.8 percentage points lower ($p < 0.01$) in Spring 2022 compared to the pre-pandemic reference.


## Differential Impact Across GPA Quartiles

```{r gpa-by-quartiles, echo=FALSE, warning=FALSE, message=FALSE}

### Models with GPA quartiles as additional controls

exam_gpa_4 <- exam_level |>
  feols(
    fml = score ~ post +
      q1 +
      q2 +
      q3 +
      online +
      female +
      r_black +
      r_asian +
      r_hispa +
      r_other +
      parttime +
      gpamiss |
      session + instructor,
    vcov = "hc1"
  )

exam_gpa_int_4 <- exam_level |>
  feols(
    fml = score ~ post +
      q1 +
      q2 +
      q3 +
      post * q1 +
      post * q2 +
      post * q3 +
      online +
      female +
      r_black +
      r_asian +
      r_hispa +
      r_other +
      parttime +
      gpamiss |
      session + instructor,
    vcov = "hc1"
  )


ques_gpa_4 <- question_level |>
  feols(
    fml = correct ~ post +
      q1 +
      q2 +
      q3 +
      online +
      female +
      r_black +
      r_asian +
      r_hispa +
      r_other +
      parttime +
      gpamiss |
      session + instructor,
    vcov = "hc1"
  )

ques_gpa_int_4 <- question_level |>
  feols(
    fml = correct ~ post +
      q1 +
      q2 +
      q3 +
      post * q1 +
      post * q2 +
      post * q3 +
      online +
      female +
      r_black +
      r_asian +
      r_hispa +
      r_other +
      parttime +
      gpamiss |
      session + instructor,
    vcov = "hc1"
  )


#### Creating a result table -----------------------------------------------------------

rowlabs_gpa_quartiles <- c(
  "post" = "postcovid",
  "q1" = "GPA (first quartile)",
  "q2" = "GPA (second quartile)",
  "q3" = "GPA (third quartile)",
  "post:q1" = "post x GPA (first quartile)",
  "post:q2" = "post x GPA (second quartile)",
  "post:q3" = "post x GPA (third quartile)"
)
# "time::5:lowgpa" = "Fall 2021 x Low GPA",
# "time::6:lowgpa" = "Spring 2022 x Low GPA",
# "online"  = "Online",
# "female1" = "Female",
# "r_hispa1" = "Hispanic",
# "r_black1" = "Black",
# "r_asian1" = "Asian",
# "r_other1" = "Other Race",
# "Fall1"   = "Fall",
# "parttime1" = "Part-time",
# "underclassperson1" = "At most Sophomore")
# "gpamiss1" = "GPAmiss1",
# "gpamiss2" = "GPAmiss2")

results_gpa <- panelsummary(
  list(exam_gpa_4, exam_gpa_int_4, ques_gpa_4, ques_gpa_int_4),
  coef_map = rowlabs_gpa_quartiles,
  gof_map = c("nobs", "r.squared"),
  caption = "Differential effects of COVID-19 across GPA quartiles",
  stars = "econ"
)


## Formatting the table ----------------------

results_gpa |>
  kable_styling(
    font_size = 9,
    latex_options = c("scale_down", "HOLD_position")
  ) |>
  add_header_above(
    c(
      " ",
      "Final Exam Score\n(mean = 57.1, sd = 15.6)" = 2,
      "Did Student Get The Answer Correct (Y/N)?\n(mean = 0.6, sd = 0.49)" = 2
    ),
    bold = T,
    italic = T,
    escape = TRUE
  ) |>
  footnote(
    "* p < 0.1, ** p < 0.05, *** p < 0.01. Final exam scores are based on a 100-point scale. Heteroskedasticity-robust standard errors are used. All regressions include the following control variables: cumulative GPA, gender, race, age, whether a student is at most a sophomore, part-time status of the student. All regressions also include a dummy variable, gpamiss, which is 1 if cumulative GPA is imputed using the mean and 0 otherwise. All regressions include course instructor fixed-effects and session fixed-effects.",
    escape = TRUE,
    threeparttable = TRUE,
    footnote_as_chunk = TRUE
  )
```


To investigate distributional impacts, I estimate the differential effect of the pandemic across students' baseline academic performance. I stratify the sample into quartiles based on cumulative GPA. For the aggregate exam score analysis, the quartiles are defined as: Q1 (GPA $\leq$ 3.01), Q2 (3.01 < GPA $\leq$ 3.37), Q3 (3.37 < GPA $\leq$ 3.71), and Q4 (GPA > 3.71). Similarly, for the matched-question analysis, the thresholds are: Q1 (GPA $\leq$ 3.08), Q2 (3.08 < GPA $\leq$ 3.32), Q3 (3.32 < GPA $\leq$ 3.68), and Q4 (GPA > 3.68). Using the top quartile (Q4) as the reference group, I examine whether the pandemic exacerbated achievement gaps for lower-performing students.

Table 3 presents the results. Column (1) confirms the expected baseline achievement gap: students in the bottom quartile score, on average, 18.3 points lower than their top-quartile peers. Column (2) reveals that the pandemic significantly widened this gap. The interaction term for the bottom quartile (`post x GPA (first quartile)`) is negative and statistically significant ($-5.722$, $p < 0.01$), indicating that the achievement gap between the highest and lowest performing students expanded by an additional 5.7 points during the pandemic. A similar, though smaller, widening of the gap is observed for the second quartile ($-3.946$, $p < 0.05$), while the third quartile shows no statistically significant differential impact relative to the top quartile.

Columns (3) and (4) report results for the item-level analysis. The baseline probability of answering a matched question correctly is 20.2 percentage points lower for bottom-quartile students compared to top-quartile students (Column 3). Column (4) shows that the pandemic exacerbated this disparity: the interaction term indicates that the probability of a correct response for bottom-quartile students fell by an additional 4.1 percentage points ($p < 0.01$) relative to the top quartile. The second quartile also experienced a significant relative decline of 5.9 percentage points ($p < 0.01$). These findings provide robust evidence that the pandemic disproportionately harmed students with weaker academic backgrounds, significantly exacerbating pre-existing inequalities in learning outcomes.

## Impact of COVID on Low GPA Students

Building on the quartile-based heterogeneity patterns documented above, I next assess whether the pandemic disproportionately affected students with weaker prior academic performance using a median split. Panel A of Table 4 reports estimates comparing students in the low-GPA group (defined as cumulative GPA below the sample median) to their high-GPA counterparts.

Columns (1) and (2) use final exam scores as the outcome. Consistent with substantial pre-existing achievement gaps, low-GPA students score 11.37 points lower than high-GPA students on the common final exam (Column 1). Column (2) adds an interaction between the low-GPA indicator and the post-pandemic period indicator, yielding a difference-in-differences estimate of the additional pandemic-period change for low-GPA students relative to the high-GPA reference group. The interaction term is negative and statistically significant: low-GPA students experienced an additional 3.25-point decline in exam scores during the post-pandemic period compared to high-GPA students.

Columns (3) and (4) report analogous linear probability models using matched question performance. Column (3) indicates that, on average, low-GPA students are 13.2 percentage points less likely to answer a matched question correctly than high-GPA students. Column (4) shows that this gap widened further during the pandemic: the interaction term implies an additional 3.3 percentage point reduction in the probability of answering a matched question correctly for low-GPA students in the post-pandemic period (p < 0.01). Taken together, these estimates provide consistent evidence that the pandemic exacerbated learning losses among academically vulnerable students, particularly when performance is measured using standardized, item-level outcomes.

```{r interaction-effects, echo=FALSE, warning=FALSE, message=FALSE}

#### Interaction effects (also difference-in-differences)
## Low vs High GPA Students
exam_gpa <- exam_level |>
  feols(
    fml = score ~ post +
      lowgpa +
      on +
      female +
      r_black +
      r_asian +
      r_hispa +
      r_other +
      parttime +
      gpamiss |
      session + instructor,
    vcov = "hc1"
  )

exam_gpa_did <- exam_level |>
  feols(
    fml = score ~ post +
      lowgpa +
      post * lowgpa +
      on +
      female +
      r_black +
      r_asian +
      r_hispa +
      r_other +
      parttime +
      gpamiss |
      session + instructor,
    vcov = "hc1"
  )


ques_gpa <- question_level |>
  feols(
    fml = correct ~ post +
      lowgpa +
      on +
      female +
      r_black +
      r_asian +
      r_hispa +
      r_other +
      parttime +
      gpamiss |
      session + instructor,
    vcov = "hc1"
  )

ques_gpa_did <- question_level |>
  feols(
    fml = correct ~ post +
      lowgpa +
      post * lowgpa +
      on +
      female +
      r_black +
      r_asian +
      r_hispa +
      r_other +
      parttime +
      gpamiss |
      session + instructor,
    vcov = "hc1"
  )


################################################################################################################
################################################################################################################
#################### IMPACT OF COVID ON CHANGE IN GAPS BETWEEN GROUPS (ONLINE VS HYBRID) #######################
################################################################################################################
################################################################################################################

### online vs hybrid (both outcomes)
## underclassperson status is not available in 2020. I do not include that
## since it might bias the results
### Only exam scores unweighted

exam_online <- exam_level |>
  feols(
    fml = score ~ post +
      online +
      female +
      r_black +
      r_asian +
      r_hispa +
      r_other +
      cumgpa +
      parttime +
      gpamiss |
      session + instructor,
    vcov = "hc1"
  )

exam_online_did <- exam_level |>
  feols(
    fml = score ~ post +
      online +
      post * online +
      female +
      r_black +
      r_asian +
      r_hispa +
      r_other +
      cumgpa +
      parttime +
      gpamiss |
      session + instructor,
    vcov = "hc1"
  )


ques_online <- question_level |>
  feols(
    fml = correct ~ post +
      online +
      female +
      r_black +
      r_asian +
      r_hispa +
      r_other +
      cumgpa +
      parttime +
      gpamiss |
      session + instructor,
    vcov = "hc1"
  )

ques_online_did <- question_level |>
  feols(
    fml = correct ~ post +
      online +
      post * online +
      female +
      r_black +
      r_asian +
      r_hispa +
      r_other +
      cumgpa +
      parttime +
      gpamiss |
      session + instructor,
    vcov = "hc1"
  )


### CREATE A TABLE FOR ALL INTERACTION EFFECTS IN ONE ------------------------------------------------------------

rowlabs_did <- c(
  "post" = "postcovid",
  "lowgpa" = "lowgpa",
  "post:lowgpa" = "post x lowgpa",
  "online" = "online",
  "post:online" = "post x online"
)

results_did <- panelsummary_raw(
  list(exam_gpa, exam_gpa_did, ques_gpa, ques_gpa_did),
  list(exam_online, exam_online_did, ques_online, ques_online_did),
  gof_map = c("nobs", "r.squared"),
  coef_map = rowlabs_did,
  stars = "econ"
) |>
  clean_raw(format = "latex") # force LaTeX in PDF renders

results_did |>
  kable_styling(
    font_size = 9,
    latex_options = c("HOLD_position", "scale_down")
  ) |>
  add_header_above(
    c(
      " ",
      "Final Exam Score \n (mean = 57.1, sd = 15.6)" = 2,
      "Did Student Get The Answer Correct (Y/N)? \n (mean = 0.6, sd = 0.49)" = 2
    ),
    bold = TRUE,
    italic = TRUE,
    escape = TRUE
  ) |>
  column_spec(1, width = "15em") |>
  pack_rows("Panel A: Low vs High GPA", 1, 8, bold = TRUE, italic = TRUE) |>
  pack_rows("Panel B: Online vs Hybrid", 9, 16, bold = TRUE, italic = TRUE) |>
  footnote(
    "* p < 0.1, ** p < 0.05, *** p < 0.01. Final exam scores are based on a 100-point scale. Heteroskedasticity-robust standard errors are used. All regressions include the following control variables: cumulative GPA, gender, race, age, whether a student is at most a sophomore, part-time status of the student. All regressions also include a dummy variable, gpamiss, which is 1 if cumulative GPA is imputed using the mean and 0 otherwise. All regressions include course instructor fixed-effects and session fixed-effects.",
    threeparttable = TRUE,
    footnote_as_chunk = TRUE,
    escape = TRUE
  )

```

## Abrupt Transition to Remote Learning

To isolate the role of modality disruption from broader pandemic-era shocks, Panel B of Table 4 reports difference-in-differences estimates comparing students enrolled in fully online sections to those enrolled in hybrid sections prior to the pandemic. This design leverages the fact that, before COVID-19, the department offered both modalities, while the onset of the pandemic triggered an abrupt shift to fully remote instruction for all sections.

Columns (1) and (2) present OLS estimates with final exam scores as the outcome. Conditional on the post-pandemic indicator, students enrolled in online sections score 1.78 points lower than those enrolled in hybrid sections (Column 1). Column (2) adds an interaction between the post-pandemic indicator and the online-modality indicator. The interaction term captures the additional change in performance for students initially enrolled in online sections—relative to those initially enrolled in hybrid sections—after instruction moved fully remote. The estimate is negative and statistically significant: the interaction coefficient is $-5.262$, indicating a sizable decline in exam scores associated with the pandemic-induced transition to remote learning.

Columns (3) and (4) report analogous linear probability models using matched question performance. Column (3) shows that, on average, students in online sections are 7.6 percentage points less likely to answer a matched question correctly than students in hybrid sections, conditional on the pandemic indicator. In Column (4), the difference-in-differences interaction term is positive and statistically significant ($0.060$, $p < 0.01$), implying that the relative probability of answering a matched question correctly increased by 6.0 percentage points for students in online sections after the onset of the pandemic. While this pattern contrasts with the negative interaction estimates for aggregate exam scores, it suggests that the mechanisms linking instructional modality to performance may differ across outcome measures, potentially reflecting differences in assessment conditions or adaptation over time.

All specifications include the same set of student covariates as in the baseline models (cumulative GPA, gender, race, age, class standing, and part-time status), as well as the GPA-imputation indicator *gpamiss*. Instructor and session fixed effects are included throughout, and standard errors are heteroskedasticity-robust.

## Dynamic Effects


The preceding analyses document substantial average effects and heterogeneity in pandemic-era learning losses. I next examine whether these disparities persisted, attenuated, or intensified over time by estimating semester-specific effects. Specifically, I interact the low-GPA indicator with a full set of semester dummies, using the pooled 2019 cohorts (Spring and Fall 2019) as the reference period. This event-study style specification traces the evolution of outcome gaps between low- and high-GPA students across post-2019 semesters. I implement an analogous exercise for instructional modality by interacting the online-enrollment indicator with the same semester dummies, again using the pooled 2019 cohorts as the benchmark.

Figure 3 summarizes these dynamic patterns for both outcome measures. The top-left panel (final exam scores: low vs. high GPA) shows a pronounced deterioration for low-GPA students immediately following the onset of the pandemic, with the largest negative effect occurring in Fall 2020. Although the estimates partially recover in later semesters, the gap relative to high-GPA students remains negative throughout the observation window, indicating persistent learning losses for academically vulnerable students.

The top-right panel (final exam scores: online vs. hybrid) highlights the temporal profile of the modality shock. The transition to fully remote instruction is associated with an initial decline in exam scores, followed by improvement by the subsequent semester, consistent with gradual adaptation by students and instructors to the remote learning environment.

```{r dynamic-effects, echo=FALSE, message=FALSE, warning=FALSE, fig.cap= "Dynamic effects of COVID-19 on students' performance", out.width= "90%", fig.align = "center"}
#####################################################################################
#####################################################################################
############### LONG TERM EFFECTS ON HIGH VS LOW GPA USING YEAR DUMMIES #############
#####################################################################################
#####################################################################################

exam_longterm_gpa <- exam_level |>
  feols(
    fml = score ~ i(factor_var = time, var = lowgpa, ref = 1) +
      online +
      female +
      r_hispa +
      r_black +
      r_asian +
      r_other +
      session +
      parttime +
      gpamiss |
      time + instructor,
    vcov = "hc1"
  )

ques_longterm_gpa <- question_level |>
  feols(
    fml = correct ~ i(factor_var = time, var = lowgpa, ref = 1) +
      on +
      female +
      r_hispa +
      r_black +
      r_asian +
      r_other +
      session +
      parttime +
      gpamiss |
      time + instructor,
    vcov = "hc1"
  )

# msummary(list(exam_longterm_gpa, ques_longterm_gpa),
#   stars = c("*" = .1, "**" = .05, "***" = .01)
# )

#####################################################################################
#####################################################################################
############### LONG TERM EFFECTS ON ONLINE VS HYBRID USING YEAR DUMMIES ############
#####################################################################################
#####################################################################################

exam_longterm_online <- exam_level |>
  filter(time %in% c("1", "2", "3")) |>
  feols(
    fml = score ~ i(factor_var = time, var = online, ref = 1) +
      cumgpa +
      female +
      r_hispa +
      r_black +
      r_asian +
      r_other +
      parttime +
      gpamiss |
      instructor,
    vcov = "hc1"
  )

ques_longterm_online <- question_level |>
  filter(time %in% c("1", "2", "3")) |>
  feols(
    fml = correct ~ i(factor_var = time, var = online, ref = 1) +
      cumgpa +
      female +
      r_hispa +
      r_black +
      r_asian +
      r_other +
      parttime +
      gpamiss |
      instructor,
    vcov = "hc1"
  )


# Create plots with consistent minimal styling
plot_gpa_exam <- ggiplot(
  exam_longterm_gpa,
  main = "Exam Scores: Low vs High GPA",
  xlab = "Time Period",
  ylab = "Estimates",
  ref.line = FALSE,
  pt.join = TRUE,
  geom_style = "pointrange",
  ci_level = 0.95
) +
  geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
  geom_line(aes(group = 1)) +
  theme_minimal(base_size = 10) +
  theme(
    plot.title = element_text(size = 8, face = "plain"),
    axis.title = element_text(size = 8)
  )

plot_gpa_ques <- ggiplot(
  ques_longterm_gpa,
  main = "Matched Questions: Low vs High GPA",
  xlab = "Time Period",
  ylab = "Estimates",
  ref.line = FALSE,
  pt.join = TRUE,
  geom_style = "pointrange"
) +
  geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
  geom_line(aes(group = 1)) +
  theme_minimal(base_size = 10) +
  theme(
    plot.title = element_text(size = 8, face = "plain"),
    axis.title = element_text(size = 8)
  )

plot_online_exam <- ggiplot(
  exam_longterm_online,
  main = "Exam Scores: Online vs Hybrid",
  xlab = "Time Period",
  ylab = "Estimates",
  ref.line = FALSE,
  pt.join = TRUE,
  geom_style = "pointrange"
) +
  geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
  geom_line(aes(group = 1)) +
  theme_minimal(base_size = 10) +
  theme(
    plot.title = element_text(size = 8, face = "plain"),
    axis.title = element_text(size = 8)
  )

plot_online_ques <- ggiplot(
  ques_longterm_online,
  main = "Matched Questions: Online vs Hybrid",
  xlab = "Time Period",
  ylab = "Estimates",
  ref.line = FALSE,
  pt.join = TRUE,
  geom_style = "pointrange"
) +
  geom_vline(xintercept = 1, linetype = "dashed", color = "gray50") +
  geom_line(aes(group = 1)) +
  theme_minimal(base_size = 10) +
  theme(
    plot.title = element_text(size = 8, face = "plain"),
    axis.title = element_text(size = 8)
  )

(plot_gpa_exam + plot_gpa_ques) /
  (plot_online_exam + plot_online_ques)
```


A similar—but in important respects more persistent—pattern emerges when performance is measured using matched-question outcomes. The bottom-left panel (matched questions: low vs. high GPA) indicates a sharp drop in the probability that low-GPA students answer a matched question correctly in the early pandemic period, with little evidence of convergence back to pre-pandemic differentials through Spring 2022. By contrast, the bottom-right panel (matched questions: online vs. hybrid) suggests that the initial decline associated with the shift to online instruction attenuates over time, with estimates moving back toward pre-pandemic levels by the later period. Taken together, these results underscore that conclusions about recovery depend on the outcome metric: aggregate exam scores suggest partial rebound, whereas item-level performance points to more persistent deficits for low-GPA students.

## Effects Due to Heterogenity in Difficulty of Questions

The preceding results indicate that pandemic-era learning losses are concentrated among academically vulnerable students and vary by instructional modality. I next examine whether these patterns differ systematically by item difficulty. Because all ECO 1001 students take a common final exam, and exam items were pre-classified by instructors as either *easy* or *hard*, I can stratify the matched-question analysis by difficulty while holding item content constant. Importantly, I retain the original (pre-pandemic) difficulty designation for each matched item—an item is treated as *hard* (or *easy*) if it was labeled as such in the pre-pandemic exams—thereby minimizing concerns that observed performance changes reflect shifts in exam composition rather than changes in mastery.

Table 5 reports the resulting estimates. Panel A compares low- and high-GPA students. For hard questions, low-GPA students are substantially less likely to answer correctly than high-GPA students (a 14.1 percentage point gap in Column 3). Moreover, this disparity widens in the post-pandemic period: the interaction term in Column 4 indicates an additional 3.7 percentage point decline for low-GPA students on hard items relative to high-GPA students ($p < 0.01$). For easy questions, low-GPA students also perform worse on average (about 9--10 percentage points), but the post-pandemic interaction is small and statistically indistinguishable from zero, suggesting that the additional pandemic-era decline for low-GPA students is concentrated in more difficult content.

```{r robust-online-easy-hard, echo=FALSE, warning=FALSE, message=FALSE}

################################################################################################################
################################################################################################################
#################################### HARD VS MEDIUM VS EASY QUESTIONS  #########################################
################################################################################################################
################################################################################################################

# Low vs High GPA (Hard vs Easy Questions)---------------------------------------------------------------------------------------------------

ques_gpa_easy <- question_level |>
  filter(difficulty == "e") |>
  feols(
    fml = correct ~ post +
      lowgpa +
      on +
      female +
      r_black +
      r_asian +
      r_hispa +
      r_other +
      parttime +
      gpamiss |
      session + instructor,
    vcov = "hc1"
  )

ques_gpa_did_easy <- question_level |>
  filter(difficulty == "e") |>
  feols(
    fml = correct ~ post +
      lowgpa +
      post * lowgpa +
      on +
      female +
      r_black +
      r_asian +
      r_hispa +
      r_other +
      parttime +
      gpamiss |
      session + instructor,
    vcov = "hc1"
  )

ques_gpa_hard <- question_level |>
  filter(difficulty == "h") |>
  feols(
    fml = correct ~ post +
      lowgpa +
      on +
      female +
      r_black +
      r_asian +
      r_hispa +
      r_other +
      parttime +
      gpamiss |
      session + instructor,
    vcov = "hc1"
  )

ques_gpa_did_hard <- question_level |>
  filter(difficulty == "h") |>
  feols(
    fml = correct ~ post +
      lowgpa +
      post * lowgpa +
      on +
      female +
      r_black +
      r_asian +
      r_hispa +
      r_other +
      parttime +
      gpamiss |
      session + instructor,
    vcov = "hc1"
  )


# Online hybrid (Easy vs Hard Questions)---------------------------------------------------------------------------------------------------

ques_online_easy <- question_level |>
  filter(difficulty == "e") |>
  feols(
    fml = correct ~ post +
      online +
      female +
      r_black +
      r_asian +
      r_hispa +
      r_other +
      cumgpa +
      parttime +
      gpamiss |
      session + instructor,
    vcov = "hc1"
  )

ques_online_did_easy <- question_level |>
  filter(difficulty == "e") |>
  feols(
    fml = correct ~ post +
      online +
      post * online +
      female +
      r_black +
      r_asian +
      r_hispa +
      r_other +
      cumgpa +
      parttime +
      gpamiss |
      session + instructor,
    vcov = "hc1"
  )


ques_online_hard <- question_level |>
  filter(difficulty == "h") |>
  feols(
    fml = correct ~ post +
      online +
      female +
      r_black +
      r_asian +
      r_hispa +
      r_other +
      cumgpa +
      parttime +
      gpamiss |
      session + instructor,
    vcov = "hc1"
  )

ques_online_did_hard <- question_level |>
  filter(difficulty == "h") |>
  feols(
    fml = correct ~ post +
      online +
      post * online +
      female +
      r_black +
      r_asian +
      r_hispa +
      r_other +
      cumgpa +
      parttime +
      gpamiss |
      session + instructor,
    vcov = "hc1"
  )

##### CREATE A TABLE------------------------------------------------
#####-------------------------------------------------------------------------------------------------------------------------

rowlabs_eh <- c(
  "post" = "postcovid",
  "lowgpa" = "lowgpa",
  "post:lowgpa" = "post x lowgpa",
  "online" = "online",
  "post:online" = "post x online"
)

results_all <- panelsummary_raw(
  list(ques_gpa_easy, ques_gpa_did_easy, ques_gpa_hard, ques_gpa_did_hard),
  list(
    ques_online_easy,
    ques_online_did_easy,
    ques_online_hard,
    ques_online_did_hard
  ),
  gof_map = c("nobs", "r.squared"),
  coef_map = rowlabs_did,
  caption = "Estimates of COVID-19 on students’ performance on questions by level of difficulty",
  stars = "econ"
) |>
  clean_raw()

# restore caption attribute (clean_raw() removes stored caption)
attr(
  results_all,
  "caption"
) <- "Estimates of COVID-19 on students’ performance on questions by level of difficulty"
results_all |>
  kable_styling(
    font_size = 9,
    latex_options = c("scale_down", "HOLD_position")
  ) |>
  add_header_above(
    c(
      " ",
      "Easy Questions \n (mean = 0.645, sd = 0.479)" = 2,
      "Hard Questions \n (mean = 0.573, sd = 0.495)" = 2
    ),
    bold = T,
    italic = T,
    escape = TRUE
  ) |>
  column_spec(1, width = "15em") |>
  pack_rows("Panel A: Low vs High GPA", 1, 8, bold = TRUE, italic = TRUE) |>
  pack_rows("Panel B: Online vs Hybrid", 9, 16, bold = TRUE, italic = TRUE) |>
  footnote(
    "* p < 0.1, ** p < 0.05, *** p < 0.01. Heteroskedasticity-robust standard errors are used. All regressions include the following control variables: cumulative GPA, gender, race, and part-time status of the student. All regressions also include a dummy variable, gpamiss, which is 1 if cumulative
    GPA is imputed using the mean and 0 otherwise. All regressions include session fixed-effects and course instructor fixed-effects.",
    escape = FALSE,
    threeparttable = TRUE,
    footnote_as_chunk = TRUE
  )

```

Panel B conducts an analogous analysis comparing online versus hybrid instruction. Students enrolled in online sections perform worse on both easy and hard items in the pre-pandemic baseline period (Columns 1 and 3). However, following the pandemic-induced shift to remote learning, the interaction term for online enrollment is positive for hard questions (Column 4: $0.100$, $p < 0.01$), indicating a relative improvement in hard-item performance for students associated with the online modality during the post-pandemic period. By contrast, the corresponding interaction for easy questions is not statistically significant (Column 2), implying that any relative gains are concentrated among hard items.

Overall, stratifying by difficulty suggests that the pandemic disproportionately reduced performance on harder material for low-GPA students, while the modality-related dynamics differ by outcome type and are most pronounced for hard questions.

# Conclusion

In this essay, I examine the pandemic's influence on the academic performance of students by analyzing their results in the common exams for introductory microeconomics course at a large public university in New York City. I advance the literature by providing estimates of learning loss in college students due to pandemic that are more reliable than current estimates. I use two outcome measures to evaluate students' academic performance and argue that these outcome choices are more appropriate than the existing outcome measures such as course completion rate, course GPA, or semester GPA used in the literature on the impact of COVID on students' academic performance. First, I analyze students' scores on common final exams administered at the institution from 2019 to 2022, excluding Spring 2020 due to lack of data availability for that semester. Acknowledging the fact that difficulty of exams may have changed during the pandemic, I use 35 pairs of questions matched from these common final exams to measure changes in the students’ average probability of answering nearly identical questions from the exams conducted before and during the pandemic to eliminate the variation from exam difficulty. I find an overall negative impact of the pandemic on students’ outcomes. Students’ scores went down by a point in the full pandemic period (2020-2022), although the coefficient is not statistically significant. Students’ average probability of answering similar questions from the common exams before the pandemic went down during the pandemic by 1.5 percentage points. This clear evidence of learning loss, I argue, is not affected by the flexible grading policy. The extent of learning loss was greater in Fall 2020 and gradually lessened through Fall 2021, after which it stabilized.

I also examine the differential impact of the pandemic on the outcomes of students with low GPA compared to those with high GPA. My findings suggest that on average low GPA students have a 3.3 percentage point lower average probability of correctly answering similar questions compared to high GPA students during the pandemic. This accounts for a broad range of student characteristics and incorporates instructor and session fixed effects, indicating a significant differential impact on low GPA students. While using students' scores from common exams as the outcome variable, I find that low GPA students on average scored 3.23 points less in the common exams compared to high GPA students during the pandemic. In the long term, although this difference decreases, it does not return to the pre-pandemic level by Spring 2022. Additionally, I examined the pandemic's effects across GPA quartiles and found that students in the lowest quartile of GPA distribution were 4.1 percentage points less likely to correctly answer nearly identical questions from pre-pandemic exams during the pandemic. This analysis supports the hypothesis that low GPA students, on average, suffered greater learning loss due to the pandemic compared to high GPA students.

Furthermore, I explore an important channel: the sudden shift to online classes, through which the pandemic affected students' academic outcomes. I find that abruptly moving to online classes due to the pandemic reduced students’ final exam scores by 5.43 points. In case of matched questions data, the mean probability of answering a similar question before and after suddenly moving to online classes increased by 5.6 percentage points. Interacting the semester dummies with a dummy for online variable, I find that the abrupt transition to online classes reduced the average probability of answering a similar question correctly before and during pandemic before returning to pre-pandemic levels. The same pattern is observed in case of exam scores as outcome variable. To examine how sensitive these estimates of learning loss are to question difficulty in the matched questions data, I provide results from separate analyses using easy as well as hard questions. During the pandemic, low-GPA students' mean probability of answering nearly identical hard questions decreased by 4.5 percentage points relative to their high-GPA counterparts. I found no statistically significant effect for easy questions. When examining the effect of abrupt transition to remote classes, I found that students scored just over 12 percentage points higher on hard questions after moving online, while showing no statistically significant difference on easy questions.

Overall, I find negative effects of the pandemic on students' academic performance that align directionally with the current literature. My unique matched questions data allows me to eliminate bias in the estimates that arose from flexible grading policies implemented immediately after the pandemic hit educational institutions nationwide. I do, however, acknowledge that my estimates may not account fully for potential cheating by students, especially in the initial months following a sudden transition to remote classes. The implications of learning loss due to the pandemic could be significant. On one hand, students' GPAs, both course-specific and overall, did not change much or even increased in some cases during the pandemic, giving the impression of better performance. On the other hand, evidence from student surveys shows that students faced hardships and challenges in learning during this time. In my study I provide evidence of learning loss which is consistent with students’ negative experiences during the pandemic. In future, any decision to suddenly switch to remote learning during a complex situation should be carefully considered before implementation.

\pagebreak

# References

::: {#refs}
:::

\pagebreak

# Appendix

## Average final exam scores in ECO 1001 across semesters

```{r exam-scores-mean, echo=FALSE, warning=FALSE, message=FALSE, fig.cap= "Average Final Exam Scores in ECO 1001 across Semesters", fig.pos="H", fig.width = 6, fig.height = 4, fig.align = "center"}
### Figure A1: Average final exam scores in ECO 1001 across semesters ------------------

# Semester labels for exam scores

exam_labels <- c(
  "Spring 2019",
  "Fall 2019",
  "Fall 2020",
  "Spring 2021",
  "Fall 2021",
  "Spring 2022"
)

# Summarize exam score statistics

exam_summary <- exam_level |>
  dplyr::select(score, year, session) |>
  dplyr::mutate(session = forcats::fct_relevel(session, c("S", "F"))) |>
  dplyr::group_by(year, session) |>
  dplyr::summarise(
    avg_score = mean(score * 0.4, na.rm = TRUE),
    sd_score = sd(score, na.rm = TRUE),
    n = dplyr::n(),
    std_error = sd_score / sqrt(n),
    .groups = 'drop'
  ) |>
  dplyr::mutate(
    semester = factor(seq_along(year), labels = exam_labels),
    margin_error = 1.96 * std_error
  )

# Plot exam scores across semesters

ggplot(
  exam_summary,
  aes(x = semester, y = avg_score, label = round(avg_score, 2))
) +
  geom_bar(stat = "identity", width = 0.3, fill = "skyblue", alpha = 0.8) +
  geom_errorbar(
    aes(ymin = avg_score - margin_error, ymax = avg_score + margin_error),
    width = 0.2,
    color = "darkblue"
  ) +
  geom_text(
    size = 3,
    vjust = -3.5,
    color = "black"
  ) +
  ylim(0, 50) +
  labs(
    x = NULL,
    y = "Average Final Exam Score",
    title = ""
  ) +
  scale_x_discrete(labels = exam_labels) +
  theme_minimal(base_size = 13)

```

## Student shares in low and high GPA groups

```{r share-gpa-low-high, echo=FALSE, warning=FALSE, message=FALSE, fig.cap= "Share of High vs Low GPA Students", fig.pos="H", fig.width = 6, fig.height = 4, fig.align = "center"}
### Figure A2: Student shares in low and high GPA groups ------------------
## S2019,F2019,F2020,S2021,F2021,S2022
## S2019/F2019 combined due to small sample size

# Semester labels for GPA share plot
gpa_share_labels <- c(
  "Spring/Fall 2019",
  "Fall 2020",
  "Spring 2021",
  "Fall 2021",
  "Spring 2022"
)


# Prepare summary data: student share by GPA type
stu_share_gpa_summary <- question_level |>
  dplyr::distinct(id, .keep_all = TRUE) |>
  dplyr::group_by(time, id, typegpa) |>
  dplyr::count() |>
  dplyr::group_by(time, typegpa) |>
  dplyr::count(name = "n") |>
  dplyr::group_by(time) |>
  dplyr::mutate(share = n / sum(n)) |>
  dplyr::ungroup()

# Color palette for GPA types
gpa_type_colors <- c("High GPA" = "skyblue", "Low GPA" = "darkblue")

stu_share_gpa_summary <- stu_share_gpa_summary |>
  dplyr::mutate(
    typegpa = dplyr::recode(typegpa, "high" = "High GPA", "low" = "Low GPA")
  )

# Plot share of students by GPA type
ggplot(
  stu_share_gpa_summary,
  aes(x = factor(time), y = share, fill = typegpa, label = round(share, 2))
) +
  geom_col(
    width = 0.5,
    alpha = 0.8,
    position = position_dodge(0.6),
    color = "black"
  ) +
  geom_text(
    size = 3,
    vjust = -1,
    position = position_dodge(0.6)
  ) +
  ylim(0, 1) +
  labs(
    x = NULL,
    y = "Share of High and Low GPA Students",
    fill = "GPA Type",
    title = ""
  ) +
  scale_fill_manual(values = gpa_type_colors) +
  scale_x_discrete(labels = gpa_share_labels) +
  theme_minimal(base_size = 13)

```

## Average GPA in low and high GPA groups in ECO 1001 across semesters

```{r meangpa-gpa-group, echo=FALSE, warning=FALSE, message=FALSE, fig.cap= "Average GPA in High vs Low GPA Group of Students", fig.pos="H", fig.width = 6, fig.height = 3.5, fig.align = "center"}
### Figure A3: Average GPA in low and high GPA groups in ECO 1001 across semesters ------------------
## S2019,F2019,F2020,S2021,F2021,S2022
# Prepare semester labels
mean_gpa_labels <- c(
  "Spring/Fall 2019",
  "Fall 2020",
  "Spring 2021",
  "Fall 2021",
  "Spring 2022"
)

# Summarize mean cumulative GPA by group
stu_mean_gpa_summary <- question_level %>%
  dplyr::distinct(id, .keep_all = TRUE) %>%
  dplyr::select(time, cumgpa, typegpa) %>%
  dplyr::group_by(time, typegpa) %>%
  dplyr::summarise(
    avg_gpa = mean(cumgpa, na.rm = TRUE),
    sd_score = sd(cumgpa, na.rm = TRUE),
    n = dplyr::n(),
    std_error = sd_score / sqrt(n),
    .groups = "drop"
  ) |>
  dplyr::mutate(margin_error = 1.96 * std_error)

# GPA type colors (ensure levels match your data)
gpa_type_colors <- c("High GPA" = "skyblue", "Low GPA" = "darkblue")

# If your data uses values like 'high'/'low', relabel before plotting
stu_mean_gpa_summary <- stu_mean_gpa_summary %>%
  dplyr::mutate(
    typegpa = dplyr::recode(typegpa, "high" = "High GPA", "low" = "Low GPA")
  )

# Plot mean GPA by group across semesters
ggplot(
  stu_mean_gpa_summary,
  aes(
    x = factor(time),
    y = avg_gpa,
    group = typegpa,
    fill = typegpa,
    label = round(avg_gpa, 2)
  )
) +
  geom_col(
    width = 0.5,
    alpha = 0.8,
    position = position_dodge(0.6),
    color = "black"
  ) +
  geom_text(
    size = 3,
    vjust = -1,
    position = position_dodge(0.75),
    color = "black"
  ) +
  ylim(0, 6) +
  labs(
    x = NULL,
    y = "Mean GPA of High and Low GPA Students",
    fill = "GPA Type",
    title = ""
  ) +
  scale_x_discrete(
    breaks = c("1", "2", "3", "4", "5"),
    labels = mean_gpa_labels
  ) +
  scale_fill_manual(values = gpa_type_colors) +
  theme_minimal(base_size = 13)


```

## Share of Students in hybrid and online classes

```{r student-share-online-hybrid, echo=FALSE, warning=FALSE, message=FALSE, fig.cap= "Share of the Students in Hybrid vs Online Classes", fig.pos="H", fig.width = 6, fig.height = 5, fig.align = "center"}
### Figure A4: Student shares in hybrid and online classes ------------------
#### S2019,F2019,F2020,S2021,F2021,S2022

# Semester labels for instruction mode plot
inst_mode_labels <- c(
  "Spring/Fall 2019",
  "Fall 2020",
  "Spring 2021",
  "Fall 2021",
  "Spring 2022"
)

# Prepare summary data: student share by instruction mode
stu_share_inst_summary <- question_level %>%
  dplyr::distinct(id, .keep_all = TRUE) %>%
  dplyr::group_by(time, id, instruction_mode) %>%
  dplyr::count() %>%
  dplyr::group_by(time, instruction_mode) %>%
  dplyr::count(name = "n") %>%
  dplyr::group_by(time) %>%
  dplyr::mutate(share = n / sum(n)) %>%
  dplyr::ungroup()

# Set color palette for instruction modes -- ensure it matches your data
inst_mode_colors <- c("Hybrid" = "skyblue", "Online" = "darkblue")

# Relabel for legend, if your values are different
stu_share_inst_summary <- stu_share_inst_summary %>%
  dplyr::mutate(
    instruction_mode = dplyr::recode(
      instruction_mode,
      "H" = "Hybrid",
      "O" = "Online"
    )
  )

# Plot student share by instruction mode
ggplot(
  stu_share_inst_summary,
  aes(
    x = factor(time),
    y = share,
    fill = instruction_mode,
    label = round(share, 2)
  )
) +
  geom_col(
    width = 0.2,
    alpha = 0.7,
    position = position_dodge(0.4),
    color = "black"
  ) +
  geom_text(
    size = 3,
    vjust = -1,
    position = position_dodge(0.75)
  ) +
  ylim(0, 1) +
  labs(
    x = NULL,
    y = "Share of Students in Hybrid and Online Classes",
    fill = "Instruction Mode",
    title = ""
  ) +
  scale_x_discrete(
    breaks = c("1", "2", "3", "4", "5"),
    labels = inst_mode_labels
  ) +
  scale_fill_manual(values = inst_mode_colors) +
  theme_minimal(base_size = 13)

```

\pagebreak

## Example of a Matched-Question

As explained earlier, I was able to match 35 pairs of nearly identical questions from pre-pandemic common exams to exams conducted during the pandemic. I provide an example of one such question below that was similar in common final exams in Fall 2019 and Fall 2020 which was deemed to be *hard* by the instructors. Full list of matched questions are provided in a separate document.

### Fall 2019 version

\noindent Scenario 2, Monopoly: Let the following equations the market for energy for ConEd, a monopolist: $P=56-2Q$, $MR=56-4Q$, $TC=50+6Q+3Q^2$, $MC=6+6Q$

\noindent Refer to Scenario 2, Monopoly: What is the profit of ConEd at the profit maximizing quantity? (round to the nearest whole number and pick the best answer)

a)  100
b)  50
c)  75
d)  155

### Fall 2020 version

\noindent A monopolist has a total cost curve represented by $TC=50+2Q+Q^2$, and a marginal cost curve represented by $MC=2+2Q$. The monopolist faces the demand curve $P=100-3Q$. The price is in dollars and the quantity is in thousands. What is the monopolist’s profit? (pick the closest answer)

a)  \$330,330
b)  \$550,250
c)  \$750,000
d)  \$1,000,600